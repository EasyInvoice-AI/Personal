<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yousuf Imran - Photography</title>
    <!-- Open Graph Meta Tags (Universal) -->
    <meta property="og:title" content="Yousuf Imran Photography – Drone, Nature, and Travel Moments Captured Worldwide" />
    <meta property="og:description" content="Explore the vibrant world of Yousuf Imran through drone, travel, and nature photography. Discover breathtaking landscapes, minimal compositions, and cinematic captures from around the globe." />
    <meta property="og:image" content="https://yousufimran.com/assets/images/seo-preview.jpg" />
    <meta property="og:url" content="https://yourdomain.com/" />
    <meta property="og:type" content="website" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Yousuf Imran Photography – Drone, Nature, and Travel Moments Captured Worldwide" />
    <meta name="twitter:description" content="Explore the vibrant world of Yousuf Imran through drone, travel, and nature photography." />
    <meta name="twitter:image" content="https://yourdomain.com/assets/images/seo-preview.jpg" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&display=swap" rel="stylesheet">
    <!-- NEW Lightbox CSS (Fancybox) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            /* A very light gray */
        }

        .font-script {
            font-family: 'Caveat', cursive;
        }

        .hero {
            
            background-size: cover;
            background-position: center;
        }

        /* Video Carousel Styles */
        .bg-video-wrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
            z-index: -1;
        }
        .bg-video {
            position: absolute;
            top: 50%;
            left: 50%;
            width: auto;
            height: auto;
            min-width: 100%;
            min-height: 100%;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }
        .hero-controls {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(0,0,0,0.5);
            padding: 0.5rem 1rem;
            border-radius: 99px;
        }
        .ctrl {
            background: none;
            border: 1px solid white;
            color: white;
            padding: 0.25rem 1rem;
            border-radius: 99px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .ctrl:hover {
            background: white;
            color: black;
        }
        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .dot.active {
            background: white;
            transform: scale(1.2);
        }
    </style>
</head>

<body class="text-gray-800">

    <!-- Header / Navigation -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-sm shadow-md">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="flex flex-col leading-none">
                <span class="text-2xl font-script text-gray-800">Yousuf Imran</span>
                <span class="font-script text-emerald-600 text-lg">Photography</span>
            </a>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="text-gray-600 hover:text-emerald-500 transition-colors">About</a>
                <a href="#gallery" class="text-gray-600 hover:text-emerald-500 transition-colors">Gallery</a>
                <a href="#contact" class="text-gray-600 hover:text-emerald-500 transition-colors">Contact</a>
            </nav>
            <div class="md:hidden">
                <button id="menu-btn" class="text-gray-800">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#about" class="block py-2 px-6 text-sm text-gray-700 hover:bg-emerald-50">About</a>
            <a href="#gallery" class="block py-2 px-6 text-sm text-gray-700 hover:bg-emerald-50">Gallery</a>
            <a href="#contact" class="block py-2 px-6 text-sm text-gray-700 hover:bg-emerald-50">Contact</a>
        </div>
    </header>

    <!-- Background Video Layer -->
    <div class="bg-video-wrap" aria-hidden="true">
      <!-- Two stacked videos for seamless crossfade -->
      <video id="vidA" class="bg-video" autoplay muted playsinline preload="auto"></video>
      <video id="vidB" class="bg-video" autoplay muted playsinline preload="auto"></video>
      <!-- readability overlay -->
      <div class="pointer-events-none absolute inset-0 bg-black/30"></div>

      <!-- Controls -->
      <div class="hero-controls">
        <button id="playPause" class="ctrl">Pause</button>
        <button id="muteToggle" class="ctrl">Unmute</button>
        <div id="dots" class="flex items-center gap-2"></div>
      </div>
    </div>

    <!-- Hero Section (content sits ABOVE videos) -->
    <section class="hero h-screen flex items-center justify-center text-white relative z-10">
      
    </section>

    <!-- No-JS fallback image (optional) -->
    <noscript>
      <style>.bg-video-wrap{display:none!important}</style>
      <section class="hero h-screen flex items-center justify-center text-white"
               style="background:url('assets/images/main.jpg') center/cover no-repeat"></section>
    </noscript>

    <!-- About Section Container -->
    <main id="about" class="container mx-auto px-6 py-12 md:py-20 scroll-mt-24">
        <div class="grid md:grid-cols-3 gap-12 items-center">
            <!-- About Me Column -->
            <div class="md:col-span-2">
                <h2 class="text-4xl font-bold mb-6 text-gray-700">About Me</h2>
                <div class="space-y-4 text-gray-600 text-lg">
                    <p class="text-base">
                        My two greatest passions are technology and art. Photography is the hobby that lets me blend
                        them, offering a unique lens to see the world and capture its beauty. Here are some of my
                        favorites.
                    </p>

                    <div class="pt-6">
                        <h3 class="text-2xl font-bold mb-4 text-gray-700">What I'm working on</h3>
                        <ul class="space-y-3 list-disc list-inside text-base">
                            <li><strong>Enterprise Sales at Google:</strong> Guiding digital native customers on their
                                AI and GTM journey through Google's innovation and distribution.</li>
                            <li><strong>YouTube Channel:</strong> Launching "Confessions of an AE" to share insights
                                and stories.</li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 flex items-center space-x-6">
                    <p class="font-semibold text-gray-700">Connect with me:</p>
                    <div class="flex space-x-4">
                        <a href="https://x.com/SalesQNA" target="_blank"
                            class="text-gray-500 hover:text-emerald-500 transition-transform duration-300 hover:scale-110">
                            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path
                                    d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
                            </svg>
                        </a>
                        <a href="https://www.youtube.com/@ConfessionsofanAE" target="_blank"
                            class="text-gray-500 hover:text-emerald-500 transition-transform duration-300 hover:scale-110">
                            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path fill-rule="evenodd"
                                    d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.78 22 12 22 12s0 3.22-.42 4.814a2.506 2.506 0 0 1-1.768 1.768c-1.594.42-7.812.42-7.812.42s-6.218 0-7.812-.42a2.506 2.506 0 0 1-1.768-1.768C2 15.22 2 12 2 12s0-3.22.42-4.814a2.506 2.506 0 0 1 1.768-1.768C5.782 5 12 5 12 5s6.218 0 7.812.418ZM15.194 12 10 15.194V8.806L15.194 12Z"
                                    clip-rule="evenodd" />
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/in/yousufimran" target="_blank"
                            class="text-gray-500 hover:text-emerald-500 transition-transform duration-300 hover:scale-110">
                            <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path fill-rule="evenodd"
                                    d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                                    clip-rule="evenodd" />
                            </svg>
                        </a>
                    </div>
                </div>

            </div>
            <!-- Image Column -->
            <div class="flex justify-center items-center">
                <img src="assets/images/profile.jpeg"
                    alt="Yousuf Imran headshot" class="rounded-lg shadow-2xl w-full max-w-sm object-cover aspect-[3/4]">
            </div>
        </div>
    </main>

    <!-- Gallery Section - Full Bleed -->
    <section id="gallery" class="py-16 md:py-24 scroll-mt-24 bg-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-12 text-gray-700">My Work</h2>
        </div>
        <!-- Gallery Grid -->
        <div class="w-full">
            <!-- Drone Photography -->
            <div class="mb-16">
                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-600">Drone Photography</h3>
                <div class="relative w-full overflow-hidden group">
                    <div class="flex transition-transform duration-500 ease-in-out" id="drone-carousel">
                        <a href="assets/images/d1.jpeg" data-fancybox="drone" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/d1.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/d2.jpeg" data-fancybox="drone" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/d2.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/d4.jpg" data-fancybox="drone" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/d4.jpg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/d3.jpg" data-fancybox="drone" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/d3.jpg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                    </div>
                    <!-- Navigation Buttons -->
                    <button class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full  transition-opacity duration-300 z-10" id="drone-prev">
                        &#10094;
                    </button>
                    <button class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full  transition-opacity duration-300 z-10" id="drone-next">
                        &#10095;
                    </button>
                </div>
            </div>
            <!-- Landscapes -->
            <div class="mb-16">
                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-600">Landscapes</h3>
                <div class="relative w-full overflow-hidden group">
                    <div class="flex transition-transform duration-500 ease-in-out" id="landscapes-carousel">
                        <a href="assets/images/l1.jpg" data-fancybox="landscapes" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/l1.jpg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/l2.jpg" data-fancybox="landscapes" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/l2.jpg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/l3.jpg" data-fancybox="landscapes" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/l3.jpg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/L4.jpg" data-fancybox="landscapes" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/L4.jpg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                    </div>
                    <!-- Navigation Buttons -->
                    <button class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full  transition-opacity duration-300 z-10" id="landscapes-prev">
                        &#10094;
                    </button>
                    <button class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full  transition-opacity duration-300 z-10" id="landscapes-next">
                        &#10095;
                    </button>
                </div>
            </div>
            <!-- Travel -->
            <div>
                <h3 class="text-2xl font-semibold mb-6 text-center text-gray-600">Travel</h3>
                <div class="relative w-full overflow-hidden group">
                    <div class="flex transition-transform duration-500 ease-in-out" id="travel-carousel">
                        <a href="assets/images/t1.jpeg" data-fancybox="travel" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/t1.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/t2.jpeg" data-fancybox="travel" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/t2.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/t3.jpeg" data-fancybox="travel" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/t3.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/t4.jpeg" data-fancybox="travel" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/t4.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                        <a href="assets/images/t5.jpeg" data-fancybox="travel" class="w-1/2 flex-shrink-0">
                            <img src="assets/images/t5.jpeg" alt="Gallery image" class="w-full h-full object-cover aspect-square">
                        </a>
                    </div>
                    <!-- Navigation Buttons -->
                    <button class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full  transition-opacity duration-300 z-10" id="travel-prev">
                        &#10094;
                    </button>
                    <button class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full  transition-opacity duration-300 z-10" id="travel-next">
                        &#10095;
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="bg-gray-100 py-16 md:py-24 scroll-mt-24">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-4 text-gray-700">Get In Touch</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto">Have a project in mind or just want to say hello?
                I'd love to hear from you.</p>
            <a href="mailto:yousuf@mangosteen.studio"
                class="bg-emerald-500 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-emerald-600 transition-all duration-300 transform hover:scale-105">
                Send an Email
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="https://x.com/SalesQNA" target="_blank"
                    class="text-gray-400 hover:text-white transition-colors">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path
                            d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" />
                    </svg>
                </a>
                <a href="https://www.youtube.com/@ConfessionsofanAE" target="_blank"
                    class="text-gray-400 hover:text-white transition-colors">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd"
                            d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.78 22 12 22 12s0 3.22-.42 4.814a2.506 2.506 0 0 1-1.768 1.768c-1.594.42-7.812.42-7.812.42s-6.218 0-7.812-.42a2.506 2.506 0 0 1-1.768-1.768C2 15.22 2 12 2 12s0-3.22.42-4.814a2.506 2.506 0 0 1 1.768-1.768C5.782 5 12 5 12 5s6.218 0 7.812.418ZM15.194 12 10 15.194V8.806L15.194 12Z"
                            clip-rule="evenodd" />
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/yousufimran" target="_blank"
                    class="text-gray-400 hover:text-white transition-colors">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd"
                            d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
                                    clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
            <p class="text-gray-400 text-sm">&copy; 2025 Mangosteen Studio, LLC. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- NEW Lightbox JS (Fancybox) -->
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>

    <script>
        // Mobile menu toggle
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Initialize Fancybox
        Fancybox.bind("[data-fancybox]", {
            // Your custom options go here
        });

        // Travel Carousel Logic
        const travelCarousel = document.getElementById('travel-carousel');
        const travelPrevBtn = document.getElementById('travel-prev');
        const travelNextBtn = document.getElementById('travel-next');
        const travelSlides = travelCarousel.children;
        let travelCurrentSlide = 0;

        function showTravelSlide(index) {
            travelCurrentSlide = index; // Update the current slide index

            if (travelCurrentSlide < 0) {
                travelCurrentSlide = travelSlides.length - 2; // Go to the second to last slide
            } else if (travelCurrentSlide > travelSlides.length - 2) { // If showing 2 images, max index is length - 2
                travelCurrentSlide = 0; // Go back to the first slide
            }
            travelCarousel.style.transform = `translateX(-${travelCurrentSlide * 50}%)`;
        }

        travelPrevBtn.addEventListener('click', () => {
            showTravelSlide(travelCurrentSlide - 1);
        });

        travelNextBtn.addEventListener('click', () => {
            showTravelSlide(travelCurrentSlide + 1);
        });

        showTravelSlide(travelCurrentSlide);

        // Drone Carousel Logic
        const droneCarousel = document.getElementById('drone-carousel');
        const dronePrevBtn = document.getElementById('drone-prev');
        const droneNextBtn = document.getElementById('drone-next');
        const droneSlides = droneCarousel.children;
        let droneCurrentSlide = 0;

        function showDroneSlide(index) {
            droneCurrentSlide = index; // Update the current slide index

            if (droneCurrentSlide < 0) {
                droneCurrentSlide = droneSlides.length - 2; // Go to the second to last slide
            } else if (droneCurrentSlide > droneSlides.length - 2) { // If showing 2 images, max index is length - 2
                droneCurrentSlide = 0; // Go back to the first slide
            }
            droneCarousel.style.transform = `translateX(-${droneCurrentSlide * 50}%)`;
        }

        dronePrevBtn.addEventListener('click', () => {
            showDroneSlide(droneCurrentSlide - 1);
        });

        droneNextBtn.addEventListener('click', () => {
            showDroneSlide(droneCurrentSlide + 1);
        });

        showDroneSlide(droneCurrentSlide);

        // Landscapes Carousel Logic
        const landscapesCarousel = document.getElementById('landscapes-carousel');
        const landscapesPrevBtn = document.getElementById('landscapes-prev');
        const landscapesNextBtn = document.getElementById('landscapes-next');
        const landscapesSlides = landscapesCarousel.children;
        let landscapesCurrentSlide = 0;

        function showLandscapesSlide(index) {
            landscapesCurrentSlide = index; // Update the current slide index

            if (landscapesCurrentSlide < 0) {
                landscapesCurrentSlide = landscapesSlides.length - 2; // Go to the second to last slide
            } else if (landscapesCurrentSlide > landscapesSlides.length - 2) { // If showing 2 images, max index is length - 2
                landscapesCurrentSlide = 0; // Go back to the first slide
            }
            landscapesCarousel.style.transform = `translateX(-${landscapesCurrentSlide * 50}%)`;
        }

        landscapesPrevBtn.addEventListener('click', () => {
            showLandscapesSlide(landscapesCurrentSlide - 1);
        });

        landscapesNextBtn.addEventListener('click', () => {
            showLandscapesSlide(landscapesCurrentSlide + 1);
        });

        showLandscapesSlide(landscapesCurrentSlide);
    </script>
    <script>
      (function () {
        // ====== CONFIG ======
        const SOURCES = [
          "assets/videos/Main1_pages.mp4",
          "assets/videos/Main2_pages.mp4",
          "assets/videos/Main3_pages.mp4",
          "assets/videos/Main4_pages.mp4",
          "assets/videos/Main5_pages.mp4",
        ];
        const LOOPS_PER_CLIP = 2;   // play each clip twice
        const FADE_MS = 500;        // crossfade duration
        const MANUAL_PAUSE_MS = 12000; // pause auto-advance after manual jump

        // ====== ELEMENTS ======
        const a = document.getElementById("vidA");
        const b = document.getElementById("vidB");
        const dotsWrap = document.getElementById("dots");
        const playPauseBtn = document.getElementById("playPause");
        const muteBtn = document.getElementById("muteToggle");

        // Initial state
        let activeIndex = 0;
        let frontIsA = true;
        let loopCount = 0;
        let playing = true;
        let muted = true;
        let manualUntil = 0;

        // Build dots
        const dots = SOURCES.map((_, i) => {
          const d = document.createElement("button");
          d.className = "dot" + (i === activeIndex ? " active" : "");
          d.setAttribute("aria-label", `Show video ${i + 1}`);
          d.onclick = () => jumpTo(i);
          dotsWrap.appendChild(d);
          return d;
        });
        function paintDots(idx) {
          dots.forEach((d, i) => d.classList.toggle("active", i === idx));
        }

        // Prime videos
        [a, b].forEach(v => {
          v.style.opacity = "0";
          v.muted = true;            // required for mobile autoplay
          v.playsInline = true;
          v.preload = "auto";
        });
        a.style.opacity = "1"; // front

        a.src = SOURCES[0];
        b.src = SOURCES[1 % SOURCES.length];

        const onEndedA = () => handleEnded(a);
        const onEndedB = () => handleEnded(b);
        a.addEventListener("ended", onEndedA);

        a.play().catch(()=>{});

        // Controls
        playPauseBtn.onclick = () => {
          playing = !playing;
          playPauseBtn.textContent = playing ? "Pause" : "Play";
          [a,b].forEach(v => playing ? v.play().catch(()=>{}) : v.pause());
        };
        muteBtn.onclick = () => {
          muted = !muted;
          muteBtn.textContent = muted ? "Unmute" : "Mute";
          [a,b].forEach(v => v.muted = muted);
        };

        // Visibility: pause when tab hidden (saves battery)
        document.addEventListener("visibilitychange", () => {
          if (document.visibilityState === "hidden") {
            [a,b].forEach(v=>v.pause());
          } else if (playing) {
            const front = frontIsA ? a : b;
            front.play().catch(()=>{});
          }
        });

        function now(){ return Date.now(); }

        function handleEnded(front) {
          // If user interacted recently or we're paused, replay same clip
          if (now() < manualUntil || !playing) {
            front.currentTime = 0;
            front.play().catch(()=>{});
            return;
          }
          loopCount += 1;
          if (loopCount >= LOOPS_PER_CLIP) {
            loopCount = 0;
            const nextIdx = (activeIndex + 1) % SOURCES.length;
            crossfadeTo(nextIdx);
          } else {
            front.currentTime = 0;
            front.play().catch(()=>{});
          }
        }

        function crossfadeTo(targetIdx) {
          const front = frontIsA ? a : b;
          const back  = frontIsA ? b : a;

          // Prepare next on the back buffer
          back.src = SOURCES[targetIdx];
          back.currentTime = 0;
          back.style.transition = `opacity ${FADE_MS}ms ease`;

          // Start back first to avoid black frames
          back.play().catch(()=>{});

          // Fade
          requestAnimationFrame(()=>{
            back.style.opacity = "1";
            front.style.opacity = "0";
          });

          // After fade completes, swap roles & handlers
          setTimeout(()=>{
            front.pause();
            front.removeEventListener("ended", frontIsA ? onEndedA : onEndedB);
            back.removeEventListener("ended", frontIsA ? onEndedB : onEndedA);
            back.addEventListener("ended", frontIsA ? onEndedB : onEndedA);

            activeIndex = targetIdx;
            frontIsA = !frontIsA;
            paintDots(activeIndex);

            // Preload the *next* clip into the hidden element
            const hidden = frontIsA ? b : a;
            const nextIdx = (targetIdx + 1) % SOURCES.length;
            hidden.src = SOURCES[nextIdx];
            hidden.load();
          }, FADE_MS + 40);
        }

        function jumpTo(i) {
          if (i === activeIndex) return;
          loopCount = 0;
          manualUntil = now() + MANUAL_PAUSE_MS;
          crossfadeTo(i);
        }
      })();
    </script>
</body>

</html>